(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{515:function(e,t,a){"use strict";a.r(t);var s=a(28),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"cordova-file-media-media-capture-plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cordova-file-media-media-capture-plugins"}},[e._v("#")]),e._v(" Cordova File, Media, & Media Capture Plugins")]),e._v(" "),a("p",[e._v("These three plugins have closely related functionality. It is important to understand when you would use each.")]),e._v(" "),a("p",[e._v("The Cordova File plugin allows you to manage the file system through a Cordova app.\n"),a("a",{attrs:{href:"https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-file/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cordova File Plugin reference"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("The Cordova Media Plugin provides the ability to "),a("strong",[e._v("RECORD")]),e._v(" and "),a("strong",[e._v("PLAYBACK AUDIO")]),e._v(" files on a device.\n"),a("a",{attrs:{href:"https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-media/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cordova Media Plugin reference"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("The Media Capture Plugin provides access to the device's "),a("strong",[e._v("audio")]),e._v(", "),a("strong",[e._v("image")]),e._v(", and "),a("strong",[e._v("video")]),e._v(" "),a("strong",[e._v("CAPTURE")]),e._v(" capabilities.\n"),a("a",{attrs:{href:"https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-media-capture/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cordova Media Capture Plugin reference"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"media-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#media-plugin"}},[e._v("#")]),e._v(" Media Plugin")]),e._v(" "),a("p",[e._v("The Cordova Media Plugin will provide the necessary permissions for the user to access and play an audio file.")]),e._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("let")]),e._v(" media "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Media")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" mediaSuccess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" mediaError"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" mediaStatus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("For an Android device, if you were saving your audio files inside the "),a("code",[e._v("www")]),e._v(" folder, inside a "),a("code",[e._v("media")]),e._v(" folder then the path would start with "),a("code",[e._v("file:///android_asset/www/")]),e._v(".")]),e._v(" "),a("p",[e._v("The primary Object that you will use with this plugin is the "),a("code",[e._v("Media")]),e._v(" object. When you instantiate the Media object you should pass it a source string followed by three callback methods. The first method is the one to call upon successfully finishing playing the audio file. The second method would be called if an error occurred with loading or playing the audio file. The final one lets you know whenever there is a change in the status of the media playback.")]),e._v(" "),a("p",[e._v("The possible values that would be sent to the mediaStatus callback method are:")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Media.MEDIA_NONE = 0\nMedia.MEDIA_STARTING = 1\nMedia.MEDIA_RUNNING = 2\nMedia.MEDIA_PAUSED = 3\nMedia.MEDIA_STOPPED = 4\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br")])]),a("p",[e._v("You can use this callback and the numbers as logic in your program to decide if you want to do something like play another track.")]),e._v(" "),a("p",[e._v("When the error function runs, it will receive a number that represents the reason for the failure. The numbers and values are as follows.")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("MediaError.MEDIA_ERR_ABORTED = 1\nMediaError.MEDIA_ERR_NETWORK = 2\nMediaError.MEDIA_ERR_DECODE = 3\nMediaError.MEDIA_ERR_NONE_SUPPORTED = 4\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("h1",{attrs:{id:"media-object-methods"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#media-object-methods"}},[e._v("#")]),e._v(" Media Object Methods")]),e._v(" "),a("p",[e._v("Once you have instantiated a "),a("code",[e._v("Media")]),e._v(" object then you can use the provided methods to control the media file.")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-media/index.html#methods",target:"_blank",rel:"noopener noreferrer"}},[e._v("Media Object Method Reference"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("code",[e._v("media.getCurrentAmplitude()")]),e._v(": Returns the current amplitude within an audio file.")]),e._v(" "),a("li",[a("code",[e._v("media.getCurrentPosition()")]),e._v(": Returns the current position within an audio file.")]),e._v(" "),a("li",[a("code",[e._v("media.getDuration()")]),e._v(": Returns the duration of an audio file in SECONDS.")]),e._v(" "),a("li",[a("code",[e._v("media.play()")]),e._v(": Start or resume playing an audio file.")]),e._v(" "),a("li",[a("code",[e._v("media.pause()")]),e._v(": Pause playback of an audio file.")]),e._v(" "),a("li",[a("code",[e._v("media.pauseRecord()")]),e._v(": Pause recording of an audio file.")]),e._v(" "),a("li",[a("code",[e._v("media.release()")]),e._v(": Releases the underlying operating system's audio resources.")]),e._v(" "),a("li",[a("code",[e._v("media.resumeRecord()")]),e._v(": Resume recording of an audio file.")]),e._v(" "),a("li",[a("code",[e._v("media.seekTo()")]),e._v(": Moves the position within the audio file. Use MILLISECONDS.")]),e._v(" "),a("li",[a("code",[e._v("media.setVolume()")]),e._v(": Set the volume for audio playback.")]),e._v(" "),a("li",[a("code",[e._v("media.startRecord()")]),e._v(": Start recording an audio file.")]),e._v(" "),a("li",[a("code",[e._v("media.stopRecord()")]),e._v(": Stop recording an audio file.")]),e._v(" "),a("li",[a("code",[e._v("media.stop()")]),e._v(": Stop playing an audio file.")])]),e._v(" "),a("h1",{attrs:{id:"media-object-properties"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#media-object-properties"}},[e._v("#")]),e._v(" Media Object Properties")]),e._v(" "),a("p",[e._v("There are also two properties of the "),a("code",[e._v("Media")]),e._v(" object. They are READ ONLY though.")]),e._v(" "),a("ul",[a("li",[e._v("position: the current position in the media file")]),e._v(" "),a("li",[e._v("duration: the length of the media file")])]),e._v(" "),a("p",[e._v("Use the "),a("code",[e._v("media.seekTo(ms)")]),e._v(" method to move around the file. Use a "),a("strong",[e._v("millisecond")]),e._v(" value.")]),e._v(" "),a("h2",{attrs:{id:"important-note-for-android"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#important-note-for-android"}},[e._v("#")]),e._v(" Important Note for Android")]),e._v(" "),a("p",[e._v("When you are finished playing an audio file on Android, be sure to call the "),a("code",[e._v("media.release()")]),e._v(" method to free system memory.")]),e._v(" "),a("h2",{attrs:{id:"important-note-for-ios"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#important-note-for-ios"}},[e._v("#")]),e._v(" Important Note for iOS")]),e._v(" "),a("p",[e._v("IOS will require extra permissions when you add this plugin. Since the plugin wants to be able to access the microphone, we need to provide a reason for the access in our app. Without this reason Apple will reject the app.")]),e._v(" "),a("p",[e._v("We need the permission "),a("code",[e._v("NSMicrophoneUsageDescription")]),e._v(" to be added to the info.plist file in the XCode project.")]),e._v(" "),a("p",[e._v("We can usually achieve this by editing our "),a("code",[e._v("config.xml")]),e._v(" file with the following entry.")]),e._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("edit-config")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("target")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("NSMicrophoneUsageDescription"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("file")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("*-Info.plist"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("mode")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("merge"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("need microphone access to record sounds"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("edit-config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("p",[e._v("The reason why you want to access the microphone from your app should be put inside the "),a("code",[e._v("<string>")]),e._v(" element.")]),e._v(" "),a("YouTube",{attrs:{title:"playing audio with the Cordova media plugin",url:"https://www.youtube.com/embed/Fk-DpOnuvmM"}}),e._v(" "),a("h2",{attrs:{id:"return"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#return"}},[e._v("#")]),e._v(" Return")]),e._v(" "),a("p",[a("RouterLink",{attrs:{to:"/modules/week6/"}},[e._v("Back to Week Homepage")])],1)],1)}),[],!1,null,null,null);t.default=n.exports}}]);