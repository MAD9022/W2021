(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{502:function(e,t,a){"use strict";a.r(t);var s=a(28),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"async-and-await"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-and-await"}},[e._v("#")]),e._v(" Async and Await")]),e._v(" "),a("p",[e._v("One of the features added in ES6 was "),a("code",[e._v("async")]),e._v(" and "),a("code",[e._v("await")]),e._v(". The combination of these keywords lets us use asynchronous features like "),a("code",[e._v("fetch")]),e._v(" inside a function but in a synchronous way.")]),e._v(" "),a("p",[e._v("Here is an example.")]),e._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("async")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("let")]),e._v(" url "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'https://www.example.com/items/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("let")]),e._v(" response "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("await")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("fetch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// now we have the actual response object in our response variable")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("let")]),e._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("await")]),e._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("json")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// now we actually have the JSON data inside the data variable")]),e._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br")])]),a("p",[e._v("This works by wrapping the asynchronous call in a Promise and making the rest of the function wait for the result before continuing. Without the "),a("code",[e._v("await")]),e._v(" the variables "),a("code",[e._v("response")]),e._v(" and "),a("code",[e._v("data")]),e._v(" would not work properly. "),a("code",[e._v("response")]),e._v(" would hold the Promise object which is the fetch waiting for a response. The next line, where we call the "),a("code",[e._v("json()")]),e._v(" method would fail because that is not a valid method to call on a fetch or promise object.")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("await")]),e._v(" is what solves the problem and makes the code wait for the result of the "),a("code",[e._v("fetch()")]),e._v(" and the "),a("code",[e._v("json()")]),e._v(" methods.")]),e._v(" "),a("YouTube",{attrs:{title:"Intro to async and await",url:"https://www.youtube.com/embed/BTDeq5HC5bU"}}),e._v(" "),a("YouTube",{attrs:{title:"Combining async and await with Promises",url:"https://www.youtube.com/embed/lGJbPSI-12E"}}),e._v(" "),a("YouTube",{attrs:{title:"JS interview async question",url:"https://www.youtube.com/embed/j1ykOrC2f0A"}}),e._v(" "),a("h2",{attrs:{id:"references"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[e._v("#")]),e._v(" References")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",target:"_blank",rel:"noopener noreferrer"}},[e._v("MDN Promises"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function",target:"_blank",rel:"noopener noreferrer"}},[e._v("MDN async"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await",target:"_blank",rel:"noopener noreferrer"}},[e._v("MDN await"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://developers.google.com/web/fundamentals/primers/async-functions",target:"_blank",rel:"noopener noreferrer"}},[e._v("Google Web Developer tutorial on async await"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://medium.com/javascript-in-plain-english/why-i-always-prefer-async-await-72fd325792f2",target:"_blank",rel:"noopener noreferrer"}},[e._v("Comparing Callbacks, Promises, and async await"),a("OutboundLink")],1)])]),e._v(" "),a("p",[a("RouterLink",{attrs:{to:"/modules/week3/"}},[e._v("Back to Week Homepage")])],1)],1)}),[],!1,null,null,null);t.default=n.exports}}]);